<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../../../img/favicon.ico" />
    <title>10- Netscenarios - Giswater Documentation</title>
    <link rel="stylesheet" href="../../../../../css/theme.css" />
    <link rel="stylesheet" href="../../../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "10- Netscenarios";
        var mkdocs_page_input_path = "giswater_qwc2/FOR_USERS/Users_manual/10-netscenarios/Commercial_data.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../../../..">
          <img src="../../../../../assets/giswater2.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">GisWater</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >FOR USERS</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../../giswater/FOR_USERS/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Quick Start Guide</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Quick_startguide/quick_startguide/Startguide/">Start Guide</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Users Manual</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/1-introduction/1.Introduction/">1- Introduction</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/2-Necessary_software/2.Necessary_software/">2- Necessary Software</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/3-Basic_work_rules/3.Basic_work_rules/">3- Basic Work Rules</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/4-Working_environment_QGIS/4.Working_environment_QGIS/">4- Working Environment QGIS</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/5-giswater_plugin/Giswater_plugin/">5- Giswater Plugin</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/6-Digitalization/Digitalize_network/">6- Digitalization</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/7-topological_and_geometrical_adjustments/Toolbox_adjustments/">7- Topological and Geometrical Adjustments</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/8-hydraulic_model/Hydraulic_model/">8- Hydraulic Model</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/9-psectors/Planification_sectors/">9- Planification Sectors</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_manual/10-netscenarios/Commercial_data/">10- Netscenarios</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Feature Data Model</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/FeatureData_model/Datamodel/">Data Model</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Users Tricks</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_tricks/dbmodel_variables/dbmodel_variables/">DBModel Variables</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_tricks/profile_edition/profile_edition/">Profile Edition</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_tricks/profile_settings/profile_settings/">Profile Settings</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_USERS/Users_tricks/python_variables/python_variables/">Python Variables</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >FOR ADMIN</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Logic DBModel</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/logic_dbmodel/ud/ud/">UD</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/logic_dbmodel/ws/ws/">WS</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Fisic DBModel</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/fisic_dbmodel/role_admin/role_admin/">Role Admin</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/fisic_dbmodel/role_basic/role_basic/">Role Basic</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/fisic_dbmodel/role_edit/role_edit/">Role Edit</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/fisic_dbmodel/role_epa/role_epa/">Role EPA</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/fisic_dbmodel/role_om/role_om/">Role OM</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/fisic_dbmodel/role_plan/role_plan/">Role Plan</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/fisic_dbmodel/role_system/role_system/">Role System</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >System Variables</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/system_variables/dbmodel/dbmodel/">DBModel</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/system_variables/qgis_project/qgis_project/">QGIS Project</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Admin Protocols</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/admin_protocols/create_fields/create_fields/">Create Fields</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/admin_protocols/forms_configurations/forms_configurations/">Forms Configurations</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/admin_protocols/management/management/">Management</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/admin_protocols/mapzones_configurations/mapzones_configurations/">Mapzones Configurations</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/admin_protocols/mincut_configurations/mincut_configurations/">Mincut Configurations</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/admin_protocols/raster_loading/raster_loading/">Raster Loading</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/admin_protocols/schema_architecture/schema_architecture/">Schema Architecture</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Interoperability</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/Interoperability/crm/crm/">CRM</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/Interoperability/gmao/gmao/">GMAO</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/Interoperability/lost_control/lost_control/">Lost Control</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_ADMIN/Interoperability/scada/scada/">SCADA</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >FOR DEV</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../../giswater/FOR_DEV/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >PyGiswater</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_DEV/pygiswater/functions_methods/">Functions and Methods</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >PlGiswater</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../../giswater/FOR_DEV/pigiswater/functions_methods/">Functions and Methods</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">QWC2 for Giswater</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" >FOR USERS</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../../../">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Quick Start Guide</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../Quick_startguide/quick_startguide/Startguide/">Start Guide</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" >Users Manual</a>
    <ul class="current">
                <li class="toctree-l3"><a class="reference internal" href="../../1-introduction/1.Introduction/">1- Introduction</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../2-Necessary_software/2.Necessary_software/">2- Necessary Software</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../3-Basic_work_rules/3.Basic_work_rules/">3- Basic Work Rules</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../4-Working_environment_QGIS/4.Working_environment_QGIS/">4- Working Environment QGIS</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../5-giswater_plugin/Giswater_plugin/">5- Giswater Plugin</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../6-Digitalization/Digitalize_network/">6- Digitalization</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../7-topological_and_geometrical_adjustments/Toolbox_adjustments/">7- Topological and Geometrical Adjustments</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../8-hydraulic_model/Hydraulic_model/">8- Hydraulic Model</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../9-psectors/Planification_sectors/">9- Planification Sectors</a>
                </li>
                <li class="toctree-l3 current"><a class="reference internal current" href="#">10- Netscenarios</a>
    <ul class="current">
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >FOR ADMIN</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../FOR_ADMIN/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Logic DBModel</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/logic_dbmodel/ud/ud/">UD</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/logic_dbmodel/ws/ws/">WS</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Fisic DBModel</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/fisic_dbmodel/role_admin/role_admin/">Role Admin</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/fisic_dbmodel/role_basic/role_basic/">Role Basic</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/fisic_dbmodel/role_edit/role_edit/">Role Edit</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/fisic_dbmodel/role_epa/role_epa/">Role EPA</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/fisic_dbmodel/role_om/role_om/">Role OM</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/fisic_dbmodel/role_plan/role_plan/">Role Plan</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/fisic_dbmodel/role_system/role_system/">Role System</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Admin Protocols</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/admin_protocols/create_fields/create_fields/">Create Fields</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/admin_protocols/forms_configurations/forms_configurations/">Forms Configurations</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/admin_protocols/management/management/">Management</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/admin_protocols/mapzones_configurations/mapzones_configurations/">Mapzones Configurations</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/admin_protocols/mincut_configurations/mincut_configurations/">Mincut Configurations</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/admin_protocols/raster_loading/raster_loading/">Raster Loading</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../FOR_ADMIN/admin_protocols/schema_architecture/schema_architecture/">Schema Architecture</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../..">Giswater Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">QWC2 for Giswater</li>
          <li class="breadcrumb-item">FOR USERS</li>
          <li class="breadcrumb-item">Users Manual</li>
      <li class="breadcrumb-item active">10- Netscenarios</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <script>
    var style = document.createElement('style');
    style.innerHTML = `
        .wy-nav-content {
            width: 100% !important;
            max-width: 100% !important;
            margin: 0 auto !important;
        }
    `;
    document.head.appendChild(style);
</script>

<h1 id="10-connection-with-data-from-the-commercial-management-system">10. Connection with data from the commercial management system</h1>
<p>Giswater is prepared to simulate flow data in water projects (WS) taking data from the commercial management system. It is not an easy task. You will need specific tables similars to the ones on the following list (mandatory on bold):</p>
<p><strong><em>hydrometer</em></strong>
<strong><em>hydrometer_x_data</em></strong>
<em>hydro_cat_catalog</em>
<em>hydro_cat_category</em>
<strong><em>hydro_val_state</em></strong>
<strong><em>hydro_cat_period</em></strong>
<em>hydro_cat_priority</em></p>
<p>By using a script to connect to the CRM, these tables can be filled, either with real-time data, or with data obtained through a nightly data loading and updating process. </p>
<p>Usually these tables are stored in an specific schema named <em>crm</em>.</p>
<p>Once the tables are filled in, its information <strong>must be connected to Giswater data model</strong> with their corresponding correlation tables:</p>
<p><strong><em>ext_rtc_hydrometer</em></strong>
<strong><em>ext_rtc_hydrometer_x_data</em></strong>
<strong><em>ext_cat_period</em></strong><strong>
</strong><em>rtc_hydrometer</em><strong>
</strong><em>rtc_hydrometer_x_connec</em>**</p>
<p><strong>WORKFLOW OF TABLES AND DATA</strong></p>
<ul>
<li>For each hydrometer, table <strong>ext_rtc_hydrometer</strong> need to be filled using some nightly process. After first load it only updates changes.</li>
<li>For hydrometer consumptions, the table <strong>ext_rtc_hydrometer_x_data</strong> need to be filled using some nightly process each time you have new data from billing period (in combination with <strong>ext_cat_period</strong>).</li>
<li>For each hydrometer, the relation with the Giswater hydrometer is: <strong>rtc_hydrometer</strong>.<span style="color: blue;"><strong>hydrometer_id</strong></span>.::text = <strong>ext_rtc_hydrometer</strong>.<span style="color: blue;"><strong>id</strong></span>::text</li>
<li>For each hydrometer, the relation with the Giswater connec is: <strong>ext_rtc_hydromete</strong>r.<span style="color: blue;"><strong>connec_id</strong></span>::text = <strong>connec.</strong><span style="color: blue;"><strong>customer_code</strong></span>::text</li>
<li>Finally it is mandatory to keep the table <strong>ext_cat_period</strong> updated and be sure that you fill two tables more with giswater ids (hydrometer_id &amp; connec_id)<ul>
<li><strong>rtc_hydrometer</strong> with <span style="color: blue;"><strong>hydrometer_id</strong></span></li>
<li><strong>rtc_hydrometer_x_connec</strong> with <span style="color: blue;"><strong>hydrometer_id</strong></span> and <span style="color: blue;"><strong>connec_id</strong></span></li>
</ul>
</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../9-psectors/Planification_sectors/" class="btn btn-neutral float-left" title="9- Planification Sectors"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../../../FOR_ADMIN/" class="btn btn-neutral float-right" title="Overview">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../9-psectors/Planification_sectors/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../../../FOR_ADMIN/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../../../..";</script>
    <script src="../../../../../js/theme_extra.js"></script>
    <script src="../../../../../js/theme.js"></script>
      <script src="../../../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
